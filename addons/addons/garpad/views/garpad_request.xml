<!-- views/garpad_request.xml -->

<odoo>
    <data>
        <record id="view_garpad_request_form" model="ir.ui.view">
            <field name="name">garpad.request.form</field>
            <field name="model">garpad.request</field>
            <field name="arch" type="xml">
       <form>
                 <field name="status_id" widget="statusbar"/>
                    <header>
                    <button string="الملكية و التصرف" name="request_copyrights" type="object"/>
                     <button string="نتيجة الرفع و المعاينة" name="fetch_attributes_by_land_number" type="object"/>
                    <button string="التحقق من السداد" name="compoute_paid" type="object"/> 
                    <button string="تقدير الرسوم" name="request_price" type="object"/>
                    <button string="ارسال للمعاينة" name="compoute_msaha" type="object"/>
                    <button string="تقرير المعاينة" name="report_msaha" type="object"/>
                     <button string="ارسال للجنة ممارسة النشاط" name="request_report" type="object"/>
                      <button string="موافقة" name="approv_cust" type="object"/>
                      <button string="رفض" name="reject_cust" type="object"/>


                    </header>
                    <sheet>
                        <!-- Basic Information -->
                        <group>
                            <group>
                                <field name="name"/>
                                <field name="lead_id"/>
                                <field name="service_type"/>
                                <field name="user_id"/>
                               <field name="partner_id"/>
                                <field name="create_date" readonly="1"/>
                            </group>
                            <group>
                                <field name="source_id"/>
                                <field name="invoice_id"/>
                                <field name="payment_status"/>
                                <field name="land_number"/>
                            </group>
                        </group>
                     
                         <notebook>
    <page string="بيانات المعاينة">
        <group>
		    <field name="gov"/>
            <field name="xcoordinate"/>
            <field name="ycoordinate"/>
            <field name="description"/>
            <field name="statussurv"/>
            <field name="notes"/>
            <field name="parcel_code"/>
            <field name="observer"/>
        </group>
    </page>
    <page string="الموقع الجغرافي">
        <group>
           <field name="map_html"/>
        </group>
    </page>
</notebook>

                        <!-- Status and Approvals -->
                       
           <div class="oe_chatter">
            <field name="message_follower_ids" widget="mail_followers"/>
            <field name="message_ids" widget="mail_thread"/>
          </div>
                    </sheet>
                </form>
            </field>
        </record>


        <record id="view_garpad_request_tree" model="ir.ui.view">
            <field name="name">garpad.request.tree</field>
            <field name="website_id" eval="1"/>
            <field name="model">garpad.request</field>
            <field name="arch" type="xml">
              <tree>
                       <!-- Basic Information -->
                  <field name="service_type"/>
                   <field name="partner_id"/>
                    <field name="create_date"/>

                    <!-- Source and Invoice Information -->
                    <field name="source_id" string="رقم الطلب"/>
                    <field name="invoice_id"/>
                    <field name="payment_status"/>

                    <!-- Status -->
                    <field name="status_id" string="حالة الطلب"/>
                    <button name="request_survey" string="استمارة المعاينة" type="object" class="oe_highlight"/>
                </tree>
            </field>
        </record>


    <record id="menu_my_model_data" model="website.menu">
    <field name="name">الطلبات</field>
    <field name="url">/requests</field>
    <field name="parent_id" ref="website.main_menu"/>
</record>

<template id="website_garpad_request_templatenew" name="Portal result">
     
            <div class="container">
                <h2 style="text-align:right;">طلبات مقدمة</h2>
                <table class="table" width="100%" border="1">
                    <thead>
                        <tr>
                            <th>رقم الطلب</th>
                            <th>رقم قطعة الارص</th>
                            <th>نتيجة الطلب</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="records" t-as="request">
                            <tr>
                                <td style="text-align:center;" ><t t-esc="request.id"/></td>
                                <td style="text-align:center;"><t t-esc="request.land_number"/></td>
                                <td style="text-align:center;">
                                   <t t-esc="request.result"/>
                                </td>
                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>
       
    </template>

    <template id="website_garpad_lands_templatenew" name="Lands owner">
     
    <div style="display: flex;flex-wrap:wrap;">
    <t t-foreach="records" t-as="product">
        <div class="card m-2" style="width: 18rem;">
        <img t-attf-src="/web/image?model=product.template&amp;field=image_1920&amp;id={{product.id}}&amp;" class="card-img-top" alt="Product Image" style="height: 200px; object-fit: cover;"/>
            <div class="card-body">
                <h5 class="card-title"><t t-esc="product.name"/></h5>
                <!-- Add more fields or details here -->
               
            </div>
        </div>
    </t>
</div>


       
    </template>

    </data>
</odoo>

